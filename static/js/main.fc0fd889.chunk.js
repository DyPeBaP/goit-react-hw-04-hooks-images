(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3DVwH",SearchForm:"Searchbar_SearchForm__3Xgd3",SearchButton:"Searchbar_SearchButton__1rNbm",animate:"Searchbar_animate__1xKCD"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1VNgL",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2CFLH"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__27yZZ",Modal:"Modal_Modal__1iyvj"}},16:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2wArL"}},18:function(e,t,a){e.exports={Button:"Button_Button__29YcQ",animate:"Button_animate__2tdYi"}},19:function(e,t,a){e.exports={Loader:"Loader_Loader__2WvBN"}},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),s=a(6),i=a.n(s),u=a(15),l=a(10),m=a(3),b=a(5),j=(a(26),a(11)),d=a.n(j),h=a(1);var f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),o=r[0],c=r[1];return Object(h.jsx)("header",{className:d.a.Searchbar,children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):b.b.error("Please enter your search term!",{position:"top-right",autoClose:3e3,theme:"dark"})},children:[Object(h.jsx)("button",{type:"submit",className:d.a.SearchButton,children:"Search"}),Object(h.jsx)("input",{className:d.a.SearchForm,type:"text",autoComplete:"off",placeholder:"Search images and photos",onChange:function(e){c(e.target.value)},value:o})]})})},g=a(16),p=a.n(g),O=a(17),v=a.n(O),x=a(13),_=a.n(x),y=a(2),I=a.n(y),w=function(e){var t=e.webformatURL,a=e.showImageHandle;return Object(h.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(h.jsx)("img",{src:t,alt:"",className:_.a.ImageGalleryItemImage,onClick:a})})};w.propType={webformatURL:I.a.string.isRequired,showImageHandle:I.a.func.isRequired};var S=w,k=function(e){var t=e.images,a=e.showImageHandler;return Object(h.jsx)("ul",{className:p.a.ImageGallery,children:t.map((function(e,t){e.id;var n=e.webformatURL,r=e.largeImageURL;return Object(h.jsx)(S,{webformatURL:n,showImageHandle:a(r),index:t},v.a.generate())}))})},L=a(18),H=a.n(L);function N(e){var t=e.loadMoreHandler;return Object(h.jsx)("button",{type:"button",className:H.a.Button,onClick:t,children:"Load more"})}N.propType={loadMoreHandler:I.a.func.isRequired};var C=N,G=a(14),B=a.n(G),R=document.querySelector("#modal-root");function E(e){var t=e.onClose,a=e.largeImgURL;Object(n.useEffect)((function(){var e=function(e){"Escape"!==e.code||t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(o.createPortal)(Object(h.jsx)("div",{className:B.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(h.jsx)("div",{className:B.a.Modal,children:Object(h.jsx)("img",{src:a,alt:""})})}),R)}var M=a(19),F=a.n(M),T=a(20),U=a.n(T),q=(a(56),function(){return Object(h.jsx)("div",{className:F.a.Loader,children:Object(h.jsx)(U.a,{type:"Circles",color:"#00BFFF",height:80,width:80})})}),D=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(a,"&key=").concat("23121176-a6e266cf1dd110f625e6378e3","&image_type=photo&orientation=horizontal&per_page=12"));case 2:if((n=e.sent).ok){e.next=5;break}throw n;case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=D;function P(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),c=Object(m.a)(o,2),s=c[0],j=c[1],d=Object(n.useState)(!1),g=Object(m.a)(d,2),p=g[0],O=g[1],v=Object(n.useState)(!1),x=Object(m.a)(v,2),_=x[0],y=x[1],I=Object(n.useState)(1),w=Object(m.a)(I,2),S=w[0],L=w[1],H=Object(n.useState)(""),N=Object(m.a)(H,2),G=N[0],B=N[1],R=Object(n.useState)(""),M=Object(m.a)(R,2),F=M[0],T=M[1],U=Object(n.useState)(null),D=Object(m.a)(U,2),P=D[0],V=D[1];Object(n.useEffect)((function(){if(s){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,J(s,S);case 4:t=e.sent,a=t.hits,n=t.totalHits,a.length||b.b.info("Nothing found for ".concat(s,"!"),{position:"top-right",autoClose:3e3,theme:"dark"}),r((function(e){return[].concat(Object(u.a)(e),Object(u.a)(a))})),V(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),B((function(){return e.t0.toString()}));case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();e()}}),[S,s]),Object(n.useEffect)((function(){a.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a.length]);var Y=function(){var e=document.documentElement.scrollHeight-150;setTimeout((function(){window.scrollTo({top:e,behavior:"smooth"})}),500)};return Object(h.jsxs)("div",{children:[Object(h.jsx)(b.a,{autoClose:3e3}),Object(h.jsx)(f,{onSubmit:function(e){j(e),r([]),L(1)}}),G?Object(h.jsx)("p",{children:G}):Object(h.jsx)(k,{images:a,showImageHandler:function(e){return function(){T(e),O(!0)}},scrollToHandler:Y}),p&&Object(h.jsx)(E,{largeImgURL:F,onClose:function(){O(!p)}}),_&&Object(h.jsx)(q,{}),S<P&&Object(h.jsx)(C,{loadMoreHandler:function(){L((function(e){return e+1})),Y()}})]})}c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.fc0fd889.chunk.js.map